<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<title>React.js入门</title>
		<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
		<script src="../build/react.js"></script>
		<script src="../build/react-dom.js"></script>
		<script src="../build/browser.min.js"></script>
	</head>

	<body>
		<h3> 一、ReactJS简介

		<p>React 起源于 Facebook 的内部项目，因为该公司对市场上所有 JavaScript MVC 框架，都不满意，就决定自己写一套，用来架设 Instagram 的网站。做出来以后，发现这套东西很好用，就在2013年5月开源了。由于 React 的设计思想极其独特，属于革命性创新，性能出众，代码逻辑却非常简单。所以，越来越多的人开始关注和使用，认为它可能是将来 Web 开发的主流工具。</p>
	<h3>二、对ReactJS的认识及ReactJS的优点</h3>

		<p>首先，对于React，有一些认识误区，这里先总结一下：</p>

		<p>React不是一个完整的MVC框架，最多可以认为是MVC中的V（View），甚至React并不非常认可MVC开发模式；</p>
		<p>React的服务器端Render能力只能算是一个锦上添花的功能，并不是其核心出发点，事实上React官方站点几乎没有提及其在服务器端的应用；</p>
		<p>有人拿React和Web Component相提并论，但两者并不是完全的竞争关系，你完全可以用React去开发一个真正的Web Component；</p>
		<p>React不是一个新的模板语言，JSX只是一个表象，没有JSX的React也能工作</p>
		<h5>1、ReactJS的背景和原理</h5>

		<p>在Web开发中，我们总需要将变化的数据实时反应到UI上，这时就需要对DOM进行操作。而复杂或频繁的DOM操作通常是性能瓶颈产生的原因（如何进行高性能的复杂DOM操作通常是衡量一个前端开发人员技能的重要指标）。React为此引入了虚拟DOM（Virtual DOM）的机制：在浏览器端用Javascript实现了一套DOM API。基于React进行开发时所有的DOM构造都是通过虚拟DOM进行，每当数据变化时，React都会重新构建整个DOM树，然后React将当前整个DOM树和上一次的DOM树进行对比，得到DOM结构的区别，然后仅仅将需要变化的部分进行实际的浏览器DOM更新。而且React能够批处理虚拟DOM的刷新，在一个事件循环（Event Loop）内的两次数据变化会被合并，例如你连续的先将节点内容从A变成B，然后又从B变成A，React会认为UI不发生任何变化，而如果通过手动控制，这种逻辑通常是极其复杂的。尽管每一次都需要构造完整的虚拟DOM树，但是因为虚拟DOM是内存数据，性能是极高的，而对实际DOM进行操作的仅仅是Diff部分，因而能达到提高性能的目的。这样，在保证性能的同时，开发者将不再需要关注某个数据的变化如何更新到一个或多个具体的DOM元素，而只需要关心在任意一个数据状态下，整个界面是如何Render的。</p>

		<p>如果你像在90年代那样写过服务器端Render的纯Web页面那么应该知道，服务器端所要做的就是根据数据Render出HTML送到浏览器端。如果这时因为用户的一个点击需要改变某个状态文字，那么也是通过刷新整个页面来完成的。服务器端并不需要知道是哪一小段HTML发生了变化，而只需要根据数据刷新整个页面。换句话说，任何UI的变化都是通过整体刷新来完成的。而React将这种开发模式以高性能的方式带到了前端，每做一点界面的更新，你都可以认为刷新了整个页面。至于如何进行局部更新以保证性能，则是React框架要完成的事情。</p>

		<p>借用Facebook介绍React的视频中聊天应用的例子，当一条新的消息过来时，传统开发的思路如上图，你的开发过程需要知道哪条数据过来了，如何将新的DOM结点添加到当前DOM树上；而基于React的开发思路如下图，你永远只需要关心数据整体，两次数据之间的UI如何变化，则完全交给框架去做。可以看到，使用React大大降低了逻辑复杂性，意味着开发难度降低，可能产生Bug的机会也更少。</p>

		<p> 1. React.js</p>
		<p> a) 起源于FACEBOOK ,</p>
		<p> b) 2013, 开发简单性能好；</p>
		<p> c) 相当于MVC里面 V, </p>
		<p> d) 与MVC模式比较 MVC进行从纵向（技术）讲M,V,C进行划分；</p>

		<p>React.js 直接从UI（结构）层面把一个网站划分成一个一个 小模块；（整个网站，大的项目看做是一个个组件组合起来）
		</p>

		<p> e) 高聚集低耦合：势必会造成MVC在一个组件的混合；</p>
		注意：这种划分的优点：降低项目逻辑处理，降低业务逻辑难度；</p>
		只需要维护相应的组件
		<p> b) 组件可以套用；-React.创造性： 虚拟DOM操作；！！！</p>
		<p> 数据改变-构建虚拟DOM树改变-虚拟DOM数的DIFF比较-虚拟DOM渲染到页面；（）</p>
		<p>1. 数据变化-1. 大量的DOM操作-自动的虚拟DOM操作-把变化部分渲染到真实页面 虚拟DOM的改变有DIFF算法，REACT自动上一次虚拟DOM跟这一次虚拟DOM进行比对 找不同，把不同渲染页面</p>
		<p> 2. 逻辑相当复杂 -状态对应内容（状态机）</p>

		<p>总结：（1. 虚拟DOM代替大量DOM操作，极大提升性能（几乎屏蔽了所有的手动DOM））</p>
		<p> 2. 结构分块（划分成一个一个小的块），降低耦合度，是会降低维护逻辑关联性 降低了维护难度；
		</p>

		<p>2.a) 简单 b) 声明式 </p>
		<p> React.js : 定义： 是一个把网站划分（按照UI结构层面）成很小部分（组件）来进行</p>
		<p> 业务处理的一个类似MVC里面的V（）采用虚拟DOM操作来代替大量</p>
		<p> 的真实DOM操作的一个（数据到-虚拟DOM（关心）-diff-（虚拟DOM比较不同）-不同渲染到真实页面当中-（后面的俩个过程不需要关心REACT。js完成））JS框架；</p>

		<p> 特点：1. 简单，性能高</p>
		<p> 2. 采用JSX语法；类javascript xml 语法 </p>
		<p> 3. 组件化，数据单向传递（父组件箱子组件传递）</p>
		<p> 组件：组件是核心：（UI）嵌套组合 </p>
		<p> 本质：虚拟DOM+真实DOM </p>
		<p> 4. 虚拟DOM，屏蔽几乎所有手动操作</p>
		<p> 5. 状态-输出 状态机 </p>

		<div id="box"></div>
	</body>
	<script type="text/babel">
		var MyCom = React.createClass({ render: function(){ return (
		<h1>这是我的第一个React的组件</h1>) } }); ReactDOM.render(
		<MyCom></MyCom>,document.getElementById("box"))
	</script>

</html>